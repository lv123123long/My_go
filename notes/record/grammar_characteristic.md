# 语法特性

## defer

特点：

* 延迟执行，参数预计算，LIFO执行顺序

场景：

* 捕获异常（recover），释放资源

## interface

带方法的接口：

* 带方法的接口内部一般有一些列方法的签名，只要全部实现了这些方法，我们就可以说实现了这个接口

空接口：

* 它可以存储任意类型，比较灵活，当需要知道该类型的具体类型时，需要使用到断言

## channel

go语言实现了CSP并发编程模式

* 把通道当作go的一等公民

通道的声明于初始化

```
chan int
chan <- float
<-chan string
```


通道的写入和读取数据

```
c <- 5

data := <-c

close(c)
```


select 监听多个通道，实现多路复用

当case中多个通道状态准备就绪时，select 随机选择一个分支进行执行

```

select {
  case <-ch1:
    // ...
  case x := <-ch2:
    // ...use x...
  case ch3 <- y:
    // ...
  default:
    // ...
  }
```







## goroutine

进程，线程，协程

* 进程是操作系统资源分配的基本单位
* 线程是操作系统资源调度的基本单位
* 协程位于用户态，是在线程的基础上构建的轻量级调度单位

并发与并行

* 并发，指的是同一时刻做很多时间
* 并行，同一段时间内做很多事情

主协程与子协程

* main函数是特殊的主程序，它退出后，整个程序都会退出
* 其他的协程都是子协程，子协程退出后，程序正常运行
